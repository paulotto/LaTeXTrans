\newcommand{\red}[1]{{\color{red}#1}}
\newcommand{\TODO}[1]{\textbf{\color{red}[TODO: #1]}}

\newcommand{\Mus}[1]{{\color{red}#1}}
\newcommand{\matt}[1]{{\color{LateColor}#1}}

\newcommand{\edit}[1]{{\color{black}#1}}

\newcommand{\fix}{\marginpar{FIX}}
\newcommand{\new}{\marginpar{NEW}}



\def \pzo {\phantom{0}} 
\def \dzo {\phantom{00}} 
\def \tzo {\phantom{000}}
\def \qzo {\phantom{0000}} 

\newcommand{\smallerfont}{\fontsize{7.5}{9}\selectfont}

\newlength\savewidth\newcommand\shline{\noalign{\global\savewidth\arrayrulewidth
  \global\arrayrulewidth 1pt}\hline\noalign{\global\arrayrulewidth\savewidth}}

\newlength\thinwidth\newcommand\thinline{\noalign{\global\savewidth\arrayrulewidth
  \global\arrayrulewidth 0.5pt}\hline\noalign{\global\arrayrulewidth\savewidth}}

\definecolor{Gray}{gray}{0.92}
\definecolor{DarkGray}{gray}{0.5}
\definecolor{LightLateColor}{rgb}{0.88,1,1}
\definecolor{altRowColor}{gray}{0.92}
\definecolor{highlightRowColor}{rgb}{0.9, 0.9, 1}
\newcommand{\colorrow}{\rowcolor{highlightRowColor}}
\newcommand{\grayrow}{\rowcolor{Gray}}
\newcommand{\highlightcell}{\cellcolor{highlightRowColor}}
\newcommand{\colorcell}{\cellcolor{Gray}}
\newcommand{\boldunder}[1]{\textbf{\underline{#1}}}
\newcommand{\tabred}[1]{{\color{red} \scriptsize{#1}}}
\newcommand{\tabgreen}[1]{{\color{ForestGreen} \scriptsize{#1}}}
\newcommand{\demph}[1]{\textcolor{DarkGray}{#1}}

\definecolor{GrayNumber}{gray}{0.5}
\definecolor{GrayXMark}{gray}{0.7}
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{ {\color{GrayXMark} \ding{55}} } %


\newcommand{\fixme}[1]{{\color{red} \textbf{#1}}}
\newcommand{\alaa}[1]{{\color{red!50!blue}aelnouby: #1}}
\newcommand{\efini}[1]{{\color{green!50!red}efini: #1}}
\newcommand{\mshukor}[1]{{\color{yellow!50!grey}mshukor: #1}}




\newcommand{\tablestyle}[2]{\setlength{\tabcolsep}{#1}\renewcommand{\arraystretch}{#2}\centering\footnotesize}

\expandafter\def\expandafter\normalsize\expandafter{%
    \normalsize%
    \setlength\abovedisplayskip{2pt}%
    \setlength\belowdisplayskip{8pt}%
    \setlength\abovedisplayshortskip{-5pt}%
    \setlength\belowdisplayshortskip{5pt}%
}

\captionsetup[table]{skip=7pt} 
\captionsetup[table]{belowskip=15pt}   %
\newcommand{\cpar}{\par\noindent\textbf}

\newcommand{\graytext}{\textcolor{gray}}


\usepackage{pgfplots} %
\pgfplotsset{compat=1.3} %
\usepgfplotslibrary{external} %
\usepgfplotslibrary{groupplots} %
\usepgfplotslibrary{statistics} %
\usetikzlibrary{spy}

\definecolor{LateGradStart}{HTML}{185D79}
\definecolor{LateGradEnd}{HTML}{7AC5E9}

\definecolor{EarlyGradStart}{HTML}{fd4b2f}
\definecolor{EarlyGradEnd}{HTML}{f19e18}

\definecolor{LateColor}{HTML}{1F78B4}
\definecolor{EarlyColor}{HTML}{D32F2F}

\definecolor{MOEGradStart}{HTML}{0a3431}
\definecolor{MOEGradEnd}{HTML}{43c197}

\definecolor{CustomA}{HTML}{f1c40f}
\definecolor{CustomB}{HTML}{d68910}
\definecolor{CustomC}{HTML}{c75f25} %
\definecolor{CustomD}{HTML}{2980b9} %

\definecolor{DarkOrange}{HTML}{c75f25}
\definecolor{Brown}{HTML}{d68910}
\definecolor{Gold}{HTML}{b89d53}
\definecolor{Blue}{HTML}{2980b9}

\definecolor{Blue}{HTML}{0072B2}
\definecolor{Orange}{HTML}{D55E00}

\definecolor{Purple}{HTML}{6A3D9A}
\definecolor{Gold}{HTML}{E6AB02}

\definecolor{Teal}{HTML}{117A65}
\definecolor{Coral}{HTML}{E67E22}

\definecolor{NavyBlue}{HTML}{253494}
\definecolor{SoftYellow}{HTML}{FDD835}

\definecolor{DarkGreen}{HTML}{1B5E20}

\definecolor{SteelGray}{HTML}{37474F}
\definecolor{AquaBlue}{HTML}{26C6DA}

\definecolor{Burgundy}{HTML}{7B1FA2}
\definecolor{SkyBlue}{HTML}{4FC3F7}

\definecolor{OliveGreen}{HTML}{558B2F}
\definecolor{Tangerine}{HTML}{FF9800}

\definecolor{MidnightBlue}{HTML}{1A237E}
\definecolor{Peach}{HTML}{FFAB91}


\definecolor{CustomA}{HTML}{f1c40f}

\definecolor{CustomA_Light3}{HTML}{f5d15d} %
\definecolor{CustomA_Light2}{HTML}{f9e282} %
\definecolor{CustomA_Light1}{HTML}{fce94f} %

\definecolor{CustomA_Base}{HTML}{f1c40f} %

\definecolor{CustomA_Dark1}{HTML}{e1b10f} %
\definecolor{CustomA_Dark2}{HTML}{d09e0f} %
\definecolor{CustomA_Dark3}{HTML}{b88a0e} %


\definecolor{CustomG_Light3}{HTML}{77b55c} %
\definecolor{CustomG_Light2}{HTML}{7dbf65} %
\definecolor{CustomG_Light1}{HTML}{85d373} %

\definecolor{CustomG_Base}{HTML}{218838} %

\definecolor{CustomG_Dark1}{HTML}{1b6b2e} %
\definecolor{CustomG_Dark2}{HTML}{17562a} %
\definecolor{CustomG_Dark3}{HTML}{124627} %









\definecolor{CustomC_Light3}{HTML}{c97f4d} %
\definecolor{CustomC_Light2}{HTML}{d98e60} %
\definecolor{CustomC_Light1}{HTML}{e89e73} %

\definecolor{CustomC_Base}{HTML}{b75b20} %

\definecolor{CustomC_Dark1}{HTML}{9c4a1d} %
\definecolor{CustomC_Dark2}{HTML}{8b4219} %
\definecolor{CustomC_Dark3}{HTML}{7b3a15} %




\definecolor{CustomD_Light3}{HTML}{46a8d4} %
\definecolor{CustomD_Light2}{HTML}{63b6de} %
\definecolor{CustomD_Light1}{HTML}{7ac5e9} %

\definecolor{CustomD_Base}{HTML}{2980b9} %

\definecolor{CustomD_Dark1}{HTML}{1f6a8a} %
\definecolor{CustomD_Dark2}{HTML}{175d79} %
\definecolor{CustomD_Dark3}{HTML}{134f66} %




\definecolor{CustomP_Light3}{HTML}{b077d4} %
\definecolor{CustomP_Light2}{HTML}{c08ae0} %
\definecolor{CustomP_Light1}{HTML}{d1a0eb} %

\definecolor{CustomP_Base}{HTML}{8e44ad} %

\definecolor{CustomP_Dark1}{HTML}{732d91} %
\definecolor{CustomP_Dark2}{HTML}{5e2377} %
\definecolor{CustomP_Dark3}{HTML}{4b1b5f} %






\pgfplotsset{
    legend early_same_llm style/.style={
        solid,
        mark=*, %
        CustomA_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early_same_params style/.style={
        solid,
        mark=*, %
        CustomB, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early style/.style={
        solid,
        mark=*, %
        CustomC_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early style/.style={
        solid,
        mark=diamond, %
        CustomC_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early_noconnect style/.style={
        only marks, %
        mark=*, %
        CustomC_Base, %
        mark options={solid}, %
        line width=0pt, %
        mark size=1.5pt, %
    }
}



\pgfplotsset{
    legend early_2_2b style/.style={
        solid,
        mark=triangle, %
        CustomC_Dark1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early_3_3b style/.style={
        solid,
        mark=*, %
        CustomC_Dark2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early_8b style/.style={
        solid,
        mark=star, %
        black, %
        mark options={solid}, %
        line width=1pt, %
        mark size=2pt %
    }
}

\pgfplotsset{
    legend early_0_2b style/.style={
        solid,
        mark=pentagon, %
        CustomC_Light1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early_0_4b style/.style={
        solid,
        mark=square, %
        CustomC_Light2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early_0_9b style/.style={
        solid,
        mark=o, %
        CustomC_Light3, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}


\pgfplotsset{
    legend early_init style/.style={
        solid,
        mark=triangle, %
        CustomC_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}


\pgfplotsset{
    legend early_init style_dashed/.style={
        dashed,
        mark=triangle, %
        CustomC_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend early_init_distill style/.style={
        solid,
        mark=triangle, %
        yellow, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}


\pgfplotsset{
    legend early_init_distill_distdown style/.style={
        solid,
        mark=triangle, %
        red, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend late_init_aimv2 style/.style={
        solid,
        mark=triangle, %
        brown, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}


\pgfplotsset{
    legend early bars style/.style={
        ybar, %
        bar width=0.4cm, %
        solid,
        mark=none, %
        fill=CustomC_Base, %
        line width=0pt, %
    }
}

\pgfplotsset{
    legend late_noconnect style/.style={
        only marks, %
        mark=*, %
        CustomD_Base, %
        mark options={solid}, %
        line width=0pt, %
        mark size=1.5pt, %
    }
}



\pgfplotsset{
    legend late style/.style={
        solid,
        mark=diamond, %
        CustomD_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend late_0_2b style/.style={
        solid,
        mark=pentagon, %
        CustomD_Light1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend late_0_4b style/.style={
        solid,
        mark=square, %
        CustomD_Light2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend late_0_9b style/.style={
        solid,
        mark=o, %
        CustomD_Light3, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend late_2_2b style/.style={
        solid,
        mark=triangle, %
        CustomD_Dark1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend late_3_3b style/.style={
        solid,
        mark=*, %
        CustomD_Dark2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend late_init style/.style={
        solid,
        mark=triangle, %
        CustomD_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend moe_noconnect style/.style={
        only marks,
        mark=*, %
        CustomG_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend moe style/.style={
        solid,
        mark=diamond, %
        CustomG_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend moe_0_2b style/.style={
        solid,
        mark=*, %
        CustomG_Light1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend moe_0_4b style/.style={
        solid,
        mark=*, %
        CustomG_Light2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend moe_0_9b style/.style={
        solid,
        mark=*, %
        CustomG_Light3, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend moe_2_2b style/.style={
        solid,
        mark=triangle, %
        CustomG_Dark1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend moe_shape style/.style={
        solid,
        mark=diamond, %
        CustomG_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend moe_0_2b_shape style/.style={
        solid,
        mark=pentagon, %
        CustomG_Light1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend moe_0_4b_shape style/.style={
        solid,
        mark=square, %
        CustomG_Light2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend moe_0_9b_shape style/.style={
        solid,
        mark=o, %
        CustomG_Light3, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}


\pgfplotsset{
    legend moe_3_3b style/.style={
        solid,
        mark=*, %
        CustomG_Dark2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend hard style/.style={
        solid,
        mark=*, %
        CustomP_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend hard_0_2b style/.style={
        solid,
        mark=*, %
        CustomP_Light1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend hard_0_4b style/.style={
        solid,
        mark=*, %
        CustomP_Light2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend hard_0_9b style/.style={
        solid,
        mark=*, %
        CustomP_Light3, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend hard_2_2b style/.style={
        solid,
        mark=*, %
        CustomP_Dark1, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}
\pgfplotsset{
    legend hard_3_3b style/.style={
        solid,
        mark=*, %
        CustomP_Dark2, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}

\pgfplotsset{
    legend late_vision style/.style={
        dotted,
        mark=*, %
        CustomD_Base, %
        mark options={solid}, %
        line width=1pt, %
        mark size=1.5pt %
    }
}